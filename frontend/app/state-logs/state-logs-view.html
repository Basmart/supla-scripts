<div class="container">
    <h1 view-title>
        <a class="pull-right" ng-click="$broadcast('refreshLogs')">
            <fa name="refresh"></fa>
        </a>
        Historia kanałów
    </h1>
    <div class="row">
        <div class="col-xs-12">
            <div class="form-group">
                <channel-selector ng-model="$ctrl.channelId"
                                  ng-change="$ctrl.showLogsForChannel()"
                                  functions="$ctrl.LOGGABLE_FUNCTIONS">
                </channel-selector>
            </div>

            <table class="table table-striped table-state-logs">
                <thead>
                <tr>
                    <th>Kiedy?</th>
                    <th>Zmiana stanu</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="log in $ctrl.stateLogs">
                    <td>
                        <date-with-tooltip date="log.createdAt"></date-with-tooltip>
                    </td>
                    <td>
                        <channel-brief class="state-log-channel-brief" channel="log.channelLog"></channel-brief>
                    </td>
                <tfoot ng-if="$ctrl.showMore">
                <tr ng-if="$ctrl.loading">
                    <th colspan="2">
                        <loader-dots></loader-dots>
                    </th>
                </tr>
                <tr>
                    <th colspan="2" class="text-center">
                        <a ng-click="$ctrl.more()">
                            Więcej
                        </a>
                    </th>
                </tr>
                </tfoot>
            </table>

        </div>
    </div>
</div>

