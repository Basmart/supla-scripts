<view-title>
    {{ $ctrl.notification.label }}
    - powiadomienia
</view-title>

<div class="btn-group btn-group-sm pull-right" ng-hide="$ctrl.editing">
    <button class="btn btn-default" ng-click="$ctrl.editing = true">
        <fa name="edit" fw></fa>
        Edytuj
    </button>
    <button class="btn btn-danger" ng-click="$ctrl.deleteNotification()" promise-btn>
        <fa name="trash" fw></fa>
        Usu≈Ñ
    </button>
</div>

<notification-form ng-if="$ctrl.editing" notification="$ctrl.notification"
                   on-submit="$ctrl.saveNotification(savedNotification)"
                   on-cancel="$ctrl.editing = false"></notification-form>

<div ng-else>
    <h2 class="no-margin-top">
        {{ $ctrl.notification.label }}
    </h2>
    <p class="text-muted">
        {{ $ctrl.notification.config }}
    </p>
    <h3>Logi</h3>
    <logs-table entity-id="$ctrl.notification.id" limit="30" on-new-logs="$ctrl.reloadNotification()"></logs-table>
</div>
